<font style="color:#000000"></font><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content=
"HTML Tidy for Windows (vers 1st July 2003), see www.w3.org">
<title>Bearhtml Help</title>
</head>
<body>
<h2>BEARHTML Help</h2>
<h4>Shift + F1 displays Bearhtml version information and switches between this help and the message shown
before</h4>
<a href="http://www3.telus.net/public/irelam/">BearHtml HomePage</a>
&nbsp;&nbsp;
<a href="http://community.pmail.com/files/folders/pegadd/default.aspx">BearHtml at Community</a>
<p><a name="top">Contents:</a> &nbsp;<a href=
"#bearini">Bearhtml.ini</a> &nbsp;<a href="#cache">Cache'ing</a>
&nbsp;<a href="#css">CSS</a>
&nbsp;<a href="#charsets">Charsets</a> &nbsp;<a href=
"#copyrites">CopyRights</a> &nbsp;<a href="#fontsizing">Font
sizing</a> &nbsp;<a href="#graphics">Graphics</a> &nbsp;<a href=
"#installation">Installation</a> &nbsp;<a href=
"#intro">Introduction</a> &nbsp;<a href="#invalid">Invalid Html</a>
&nbsp;<a href="#keyboard">Keyboard</a> &nbsp;<a href=
"#logging">Logging</a> &nbsp;<a href="#phishing">Phishing</a>
&nbsp;<a href="#printing">Printing</a> &nbsp;
<a href="#preview">Print Preview</a> &nbsp;<a href="#proxy">Proxy
Servers</a> &nbsp;<a href="#redirection">Redirection</a>
&nbsp;<a href="#scripting">Scripting</a> &nbsp;<a href=
"#scrolling">Scrolling</a> &nbsp;<a href="#styles">Styles</a> &nbsp;
<a href="#suspicious">Suspicious HTML</a> &nbsp; &nbsp;<a href="#uninstall">Un-install</a>
<a name="keyboard"></a>
<h3>Keyboard</h3>
<table border="1">
<tbody>
<tr>
<td>Pg Up/Pg Dn</td>
<td>Scrolls display by a page</td>
</tr>
<tr>
<td>Shift + Pg Up/Pg Dn</td>
<td>Scrolls and selects by a page</td>
</tr>
<tr>
<td>Home/End</td>
<td>Scrolls to beginning/end of line</td>
</tr>
<tr>
<td>Shift + Home/End</td>
<td>Scrolls &amp; Selects to beginning/end of line</td>
</tr>
<tr>
<td>Shift + Ctrl + Home/End</td>
<td>Scrolls &amp; Selects to beginning/end of document</td>
</tr>
<tr>
<td>Left/Right Arrow</td>
<td>Scrolls by char</td>
</tr>
<tr>
<td>Shift + Left/Right Arrow</td>
<td>Scrolls &amp; Selects chars</td>
</tr>
<tr>
<td>Ctrl + Left/Right Arrow</td>
<td>Scrolls by words</td>
</tr>
<tr>
<td>Shift + Ctrl + Left/Right Arrow</td>
<td>Scrolls &amp; Selects words</td>
</tr>
<tr>
<td>DoubleClick</td>
<td>Selects current word</td>
</tr>
<tr>
<td>Up/Down Arrow</td>
<td>Scrolls by line</td>
</tr>
<tr>
<td>Mousewheel</td>
<td>Scrolls by line (+)</td>
</tr>
<tr>
<td>Shift + Up/Down Arrow</td>
<td>Scrolls &amp; Selects lines</td>
</tr>
<tr>
<td>Shift + F8</td>
<td>Select current line</td>
</tr>
<tr>
<td>Ctrl + C</td>
<td>Copy selected text to Clipboard</td>
</tr>
<tr>
<td>Ctrl + A</td>
<td>Select All</td>
</tr>
<tr>
<td>SpaceBar</td>
<td>Scrolls down a page</td>
</tr>
<tr>
<td>Ctrl + SpaceBar</td>
<td>Scrolls up a page</td>
</tr>
<tr>
<td>Ctrl + Mousewheel <b>(removed)</b></td>
<td>Attempt to Decrease/Increase fontsize (*)</td>
</tr>
<tr>
<td>Numpad '/' (&divide;) or '*'</td>
<td>Attempt to Decrease/Increase fontsize (*)</td>
</tr>
<tr>
<td>'&lt;' or '&gt;'</td>
<td>Attempt to Decrease/Increase fontsize (*)</td>
</tr>
<tr>
<td>'Ctrl + PageDown/PageUp</td>
<td>Attempt to Decrease/Increase fontsize (*)</td>
</tr>
<tr>
<td>Shift + Ctrl + 'P'</td>
<td>Print html page</td>
</tr>
<tr>
<td>Shift + Ctrl + 'R'</td>
<td>Enable/disable CSS coding</td>
</tr>
<tr>
<td>Shift + Ctrl + 'U'</td>
<td>Display remote graphics</td>
</tr>
<tr>
<td>Shift + Ctrl + 'Y'</td>
<td>Clear remote graphics cache</td>
</tr>
</tbody>
</table>
(*) For different keyboards<br>
(+) See Mousewheel scrolling amounts in Bearhtml.ini<br>
<a href="#top">Top</a> <a name="intro"></a>
<h3>Introduction.</h3>
Bearhtml is an Html page renderer (displayer), <b>it is not a
browser</b>. Bearhtml supports Html 3.2 and parts of Html 4.1. 
CSS (Style definitions) is supported at level 1 and partly at level 2. 
Failure to display a page may be for one of two main
reasons:
<ol>
<li>Badly coded Html or unsupported Html/CSS</li>
<li>Dynamic coding (scripting)</li>
</ol>
In either case you can attempt to view the page by right clicking
and selecting "Show in Browser"<br>
<a href="#top">Top</a> <a name="graphics"></a>
<h3>Graphics</h3>
Remote URL location graphics files are displayed as <img src=
"default.bmp" alt="Unfetched remote graphic">&nbsp; To see remote
graphics, key in Shift + Ctrl + 'U', or right click in the message
area (not on a graphic area) and select "Show picture", or ensure
that Message Reader option is set to choose fetching automatically.
There will be a delay while graphics are fetched. While remote
graphics are being downloaded, a counter can be seen to show
progress. Do not close the message until this counter completes the
countdown.<br>
In the case of corrupt or truncated graphics files a small box with
an exclamation point inside it will be displayed to indicate the
presence of an undisplayable graphic. Unavailable graphics files
will stay as <img src="default.bmp" alt=
"Unfetched remote graphic"><br>
Images can be captured by right-clicking on the image. A Save file dialog will appear.<br>
<a href="href=#top"></a>
<a name="css"></a>
<h3>CSS</h3>
CSS style tags are an alternate method of composing and enhancing HTML based content.
Unlike Html, CSS is ever-improving and adding new features. Bearhtml has full
support for CSS V1, and limited support for CSS V2. There is no support for CSS V3.
A toggle keystroke sequence (Shift + Ctrl + "R")  is available to enable or disable 
attempts to render displays using CSS. Status line shows current state after a toggle.
Alternatively use the "Open in Browser" right click menu to invoke a full browser.<br>
<a href="#top">Top</a> <a name="invalid"></a>
<h3>Invalid Html</h3>
If Bearhtml is unable to display the html message this causes
LibTidy to be invoked to attempt a repair. An attempt is then made
to display the repaired message. If this fails the original source
html is shown in the display area. Failure at this point indicates
a seriously flawed html message. If the display is blank or badly
formatted, right click and select "Open in web browser".<br>
<a href="#top">Top</a> <a name="charsets"></a>
<h3>Character sets</h3>
Html is displayed using the users normal character set (eg
ISO-8859-1). If you see blank white squares where text should
appear, this is a sign that the sender is using a different
character set. Repeat the troubleshooting method above, but when in
your browser go to View/Character Encoding and select one of the
methods shown in the list. If one of these makes the message
readable, you should inform the sender of the character set
problem, and have them identify the character set they use in the
message headers.<br>Unicode character set is supported in both Big and Little Endian forms,
and is converted to Utf-8 to be displayed in Pegasus Mail.
<a href="#top">Top</a> <a name="suspicious"></a>
<h3>Suspicious Html</h3>
Urls that are clicked are checked for possibility of being
dangerous, ie Fraudulent asking for personal information
Specifically:
<ul>
<li>Check for numeric IP address ie http://191.168.0.1</li>
<li>Check for dual domain link address, ie
http://www.goodsite.com@www.badsite.com</li>
<li>Check for misleading links, ie underlined link Url is different
from target Url</li>
<li>Check for obscured Url domain names ie
http://%37icrosoft.com</li>
<li>Check Url with contents of Bearwarn.txt file (Phishing
tests)</li>
<li>Check if target Url domain in blacklist service
www.Surbl.org</li>
</ul>
If a problem is detected a dialog will prompt you. Clicking OK will
invoke the browser. Clicking Cancel, the Url will be remembered for
the rest of the Pegasus Mail session. Moving the mouse cursor over
the Url again will cause the mouse cursor to turn into a stop
sign.<br>
For BlackList checking: WantBl=Yes/No in BearHtml.ini. Click on the
Url link. The status line will show result.<br>
If you want more detail check Bearhtml.log for the Blacklist
message. It will show an IP address last number (127.0.0.n) that
resolves according to which SURBL.ORG combination of lists it
occurs in:
<ul>
<li>2 = comes from sc.surbl.org</li>
<li>4 = comes from ws.surbl.org</li>
<li>8 = Phishing comes from mailsecurity.net.au,
rhs.mailpolice.com, http://www.castlecops.com, and the AntiPhishing
Working Group</li>
<li>16 = comes from ob.surbl.org</li>
<li>32 = comes from ab.surbl.org</li>
<li>64 = comes from jp data source</li>
</ul>
<br>
<a href="#top">Top</a> <a name="phishing"></a>
<h3>Phishing detection</h3>
In addition to blacklist validation, Bearhtml will also examine the
clickable link in the display. If well known and reputable
businesses domain names occur anywhere other than in the correct
part of a Url, a warning dialog will be displayed. Users can
maintain the list in Bearwarn.txt with their own domains. See
Bearwarn.txt for more info.<br>
<a href="#top">Top</a> <a name="scripting"></a>
<h3>Scripting</h3>
No form of scripting is supported, ie Javascript. Any such coding
in a message is ignored. This makes the display of such messages
problematic. If needed this html should be passed to a full browser
.<br>
In addition all requests for setting or retrieving Cookies are
ignored.<br>
<a href="#top">Top</a> <a name="printing"></a>
<h3>Printing</h3>
Users can request Header and Footer information be added to the
print pages. The font used to
produce the page header and footer is defined through the
DefaultFontName= and DefaultFontSize= coded in Bearhtml.ini. The
current Body text size (adjustable) will be used when printing the
body.<br>
Messages with large recipient lists may cause header truncation ( 7 cms reserved).<br>
<a href="#top">Top</a> <a name="preview"></a>
<h3>Print Preview</h3>
Users can enable previewing of print by adding a line to Bearhtml.ini that requests it, ie: preview=yes.
<br>Bearhtml can display either one page at a time, or two pages side-by-side.
Zooming in on text can be achieved by clicking on the magnifying glass. Setup of printer properties is usually done when the user clicks the Print button.
At this time support for Landscape printing is undergoing testing.
<a href="#top">Top</a> <a name="styles"></a>
<h3>Styles</h3>
At present, inline style definitions are processed. Remote URL
location styles are not fetched. See also topic <a href="#css">CSS</a><br>
<a href="#top">Top</a> <a name="fontsizing"></a>
<h3>Fonts sizing/color</h3>
Increasing or decreasing the default fontsize using the Ctrl +
mousewheel may not work in all cases, and may cause strange
formatting in some cases. If a message already has coded font
sizes, these will override any default size. Secondly any message
with parts coded with a font size, and other parts left to the
default size may appear poorly formatted. Note there are multiple
keyboard methods to adjust font size in the list above.<br>
Similarily by using DefaultFontColor= you can opt to display the
message text in any Windows defined color. Examples are:
<font color="black">Black</font> <font color="blue">Blue</font>
<font color="teal">Teal</font> <font color="aqua">Aqua</font><br>
<a href="#top">Top</a> <a name="logging"></a>
<h3>Logging</h3>
For problem investigation a log file can be created in the Pegasus
Mail NewMail directory (eg c:\pmail\mail), it is a text file with
name of Bearhtml.log, that can be reviewed using Notepad etc.<br>
<a href="#top">Top</a> <a name="scrolling"></a>
<h3>Scrolling</h3>
There are two forms of scrolling up or down a webpage. Scrollbars
on the edge of the display and keyboard characters. In the case of
scrollbars, this always uses the Windows standard feature of moving
by an amount of pixels in either direction, regardless of where the
text cursor is located.<br>
Using the keyboard performs text sensitive scrolling movements to
move by an amount of "lines" and relocate the text cursor. In this
case the distance scrolled can be an amount easily explained, or in
the case of mixed text and graphics the distance scrolled can be
quite difficult to explain. Bearhtml will for instance scroll
up/down by a page height of pixels and try to find the new line of
text completely in view to place the cursor.<br>
<a href="#top">Top</a> <a name="redirection"></a>
<h3>Redirection</h3>
Http protocol allows that a Url request be modified by the web
server to fetch an object (page or image) from another location.
Bearhtml can support this feature but by default is disabled. Care
must be taken in choosing to enable redirection. It is beyond the
scope of this file to describe the risks. See Google searches such
as:
http://computing-dictionary.thefreedictionary.com/Http+redirection<br>

<a href="#top">Top</a> <a name="cache"></a>
<h3>Cache'ing</h3>
If enabled (by WantCache=yes), a copy of downloaded graphic files
is kept and subsequent requests for the same graphic are supplied
from cache. Cache can be cleared at any time by keying in Ctrl +
Shift + Y. Cache-days= influences how long files are kept in the
cache.<br>
<a href="#top">Top</a> <a name="proxy"></a>
<h3>Proxy Servers</h3>
For some installations, workstations are not allowed to connect to
the Internet directly. They are instead required to connect to a
local proxy server. The proxyserver= value allows this server to be
identified and port number to be used. Users of Microsoft's
Internet Explorer may have this proxy server already configured.
See IE menu Tools/Internet Options/Connections/LAN settings. The
same information may be found in Firefox menu
Tools/Options/General/Connection Settings. Bearhtml at presnt only
checks the Windows Registry for I.E configuration values.<br>
<a href="#top">Top</a> <a name="installation"></a>
<h3>Installation</h3>
<ol>
<li>Shut-down Pegasus Mail</li>
<li>Unzip the content of the new bearhtml.zip into the Pegasus Mail
executables directory (eg: c:\pmail).</li>
<li>If required, edit Bearhtml.ini and Bearwarn.txt</li>
<li>If required, save Bearhtml.ini into the user NewMail directory
to override the default location values</li>
<li>Restart Pegasus Mail</li>
</ol>
<br>
<a href="#top">Top</a> <a name="uninstall"></a>
<h3>Un-Install</h3>
<ol>
<li>Shut-down Pegasus Mail</li>
<li>Rename or delete Bearhtml.dll</li>
<li>Restart Pegasus Mail</li>
</ol>
<br>
<a href="#top">Top</a> <a name="bearini"></a>
<h3>Contents of Bearhtml.ini</h3>
<ul>
<li>ScrollPixels= (default 20) pixel height to move for
mousewheel</li>
<li>ScrollRepeat= (default 1) repeat scroll for mousewheel</li>
<li>ScrollDelayMs= (default 1mSec) delay between scrolls for
mousewheel</li>
<li>DefaultFontSize= (default 12) Display font size</li>
<li>DefaultFontName= (default Arial) Font to use</li>
<li>DefaultFontColor= (default Black) Text color to use, if not
pre-defined</li>
<li>WantBl= (default No, Yes/No) Blacklist checking</li>
<li>WantCache= (default Yes, Yes/No) Save graphics in Newmail
sub-directory RmtFiles. Files with extension type .Rmt and .Cac are
created</li>
<li>cache-days= (default 1) If WantCache=yes then operate a elapsed
time cache, keeping remote graphics cache'd beyond a Pegasus Mail
session. Cache-days=0 keeps remote graphics for remainder of the
current day only.</li>
<li>LocalIPAddress= (no default, use to avoid local non-routable
numeric addresses such as 127.0.0.1 causing Phishing warnings,
multiple addresses separated by commas.
ie&nbsp;localIPAddress=127.0.0,192.168 would exclude 127.0.0.n and
192.168.n.n.</li>
<li>Redirection= ( default No) Http Url redirect to alternative
location (risk)</li>
<li>proxyserver= (no default, code per example:
http://127.0.0.1:8080)</li>
<li>Skype= (full pathname to Skype executable). Used for Callto:
and Skype: protocols</li>
<li>PrinterSetup= (default Yes) Allow printer selection for html
printing</li>
<li>Preview= (default=no) To display a page in print page sizing </li>
<li>Shortinfo= (default Yes) show only domain name in Hint window
Url.</li>
<li>WarnExtensions= (default .EXE.SCR.PIF) detect risky file
extension types on Urls</li>
<li>UnloadWinInet=  (default=No) Only use to force unloading of WinInet.dll></li>
<li>WantUrlRequest= (default = yes) Urls with "?" character</li>
<li>WantCSS= (default = yes) process CSS tags</li>
<li>Loglevel= (default 3) Uses same reporting levels as Pegasus
Mail, ie
<table border="1">
<tr>
<td>Loglevel=1 Reports critical Bearhtml function errors</td>
</tr>
<tr>
<td>Loglevel=2 Reports Loglevel=1 and serious errors</td>
</tr>
<tr>
<td>Loglevel=3 Reports Loglevel=1-2 and normal events</td>
</tr>
<tr>
<td>Loglevel=4 Reports Loglevel 1-3 and detailed transaction
information</td>
</tr>
<tr>
<td>Loglevel=5 Reports Loglevel 1-4 and Tidy html warnings and
errors</td>
</tr>
</table>
</li>
</ul>
<br>
<i>Users of Windows 95 have limited character set support and
should code CheckUTF8=false in Bearhtml.ini.</i><br>
<a href="#top">Top</a> <a name="copyrites"></a>
<h3>Copyrights</h3>
<ul>
<li>HtmlViewer: David Baldwin (<a href=
"http://www.pbear.com">http://www.pbear.com</a>)</li>
<li>Pegasus Mail: David Harris (<a href=
"http://www.pmail.com">http://www.pmail.com</a>)</li>
<li>Tidy: LibTidy-Project(<a href=
"http://tidy.sourceforge.net">http://tidy.sourceforge.net</a> and
<a href="http://www.w3c.org">http://www.w3c.org</a>)</li>
<li>BearHtml: Martin Ireland (<a href=
"mailto:martin.ireland@gov.ab.ca">mailto:martin.ireland@gov.ab.ca</a>)</li>
<li>ReadWebData: Michael in der Wiesche</li>
</ul>
<br>
<a href="#top">Top</a>
</body>
</html>
